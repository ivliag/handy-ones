import{c as b,r as w,a as m}from"./index.e68a8cc1.js";var B="Expected a function",R=0/0,F="[object Symbol]",G=/^\s+|\s+$/g,W=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,H=/^0o[0-7]+$/i,U=parseInt,$=typeof b=="object"&&b&&b.Object===Object&&b,X=typeof self=="object"&&self&&self.Object===Object&&self,Y=$||X||Function("return this")(),V=Object.prototype,z=V.toString,K=Math.max,Z=Math.min,E=function(){return Y.Date.now()};function J(e,t,r){var n,o,i,s,a,d,f=0,u=!1,l=!1,p=!0;if(typeof e!="function")throw new TypeError(B);t=I(t)||0,x(r)&&(u=!!r.leading,l="maxWait"in r,i=l?K(I(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p);function S(c){var h=n,g=o;return n=o=void 0,f=c,s=e.apply(g,h),s}function A(c){return f=c,a=setTimeout(y,t),u?S(c):s}function P(c){var h=c-d,g=c-f,C=t-h;return l?Z(C,i-g):C}function j(c){var h=c-d,g=c-f;return d===void 0||h>=t||h<0||l&&g>=i}function y(){var c=E();if(j(c))return _(c);a=setTimeout(y,P(c))}function _(c){return a=void 0,p&&n?S(c):(n=o=void 0,s)}function D(){a!==void 0&&clearTimeout(a),f=0,n=d=o=a=void 0}function L(){return a===void 0?s:_(E())}function T(){var c=E(),h=j(c);if(n=arguments,o=this,d=c,h){if(a===void 0)return A(d);if(l)return a=setTimeout(y,t),S(d)}return a===void 0&&(a=setTimeout(y,t)),s}return T.cancel=D,T.flush=L,T}function x(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function q(e){return!!e&&typeof e=="object"}function Q(e){return typeof e=="symbol"||q(e)&&z.call(e)==F}function I(e){if(typeof e=="number")return e;if(Q(e))return R;if(x(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=x(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(G,"");var r=k.test(e);return r||H.test(e)?U(e.slice(2),r?2:8):W.test(e)?R:+e}var tt=J;function et(e=""){const t=/([0-9a-zA-z\-_.]+)\.svg$/i,r=e.match(t);if(!r)throw new Error("svg url does not match pattern");return r[1]}function nt(e){const t=["javascript","onload","onerror","iframe","script"].join("|");if(new RegExp(t,"gim").test(e))throw new Error("Possible XSS attack")}var rt=globalThis&&globalThis.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(l){s(l)}}function d(u){try{f(n.throw(u))}catch(l){s(l)}}function f(u){u.done?i(u.value):o(u.value).then(a,d)}f((n=n.apply(e,t||[])).next())})};const ot=4800,it=2;function st(e,t){return rt(this,void 0,void 0,function*(){const r=(t==null?void 0:t.timeout)||ot,n=new AbortController,o=setTimeout(()=>n.abort(),r);return fetch(e,Object.assign(Object.assign({},t),{signal:n.signal})).then(i=>(clearTimeout(o),i)).catch(i=>{throw clearTimeout(o),i})})}function ct(e,t){let r=(t==null?void 0:t.retryCount)===void 0?it:t==null?void 0:t.retryCount;function n(o,i){return st(o,i).then(s=>{if(s.ok)return s.text();throw new Error(`Unable to load SVG file: ${o}`)}).catch(s=>{if(r>0)return r--,n(o,i);throw s})}return n(e,t).then(o=>(nt(o),o))}var ut=globalThis&&globalThis.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(l){s(l)}}function d(u){try{f(n.throw(u))}catch(l){s(l)}}function f(u){u.done?i(u.value):o(u.value).then(a,d)}f((n=n.apply(e,t||[])).next())})};const M="http://www.w3.org/2000/svg",at=20;class ft{constructor(){this.fragment=null,this.symbolsMountingPoint=null,this.cache=new Set,this.accumulateSvg=({url:t,svgString:r})=>{const n=this.getId(t),o=this.svgToSymbol({id:n,svgString:r});this.fragment=this.fragment||document.createDocumentFragment(),this.fragment.append(o)},this.flushSvg=()=>{const t=this.getSymbolMountPoint();this.fragment&&(t.appendChild(this.fragment),this.fragment=null)},this.deboucedflushSvg=tt(this.flushSvg,at)}parseSvgString(t){return new DOMParser().parseFromString(t,"image/svg+xml").children[0]}svgToSymbol({id:t,svgString:r}){const n=this.parseSvgString(r),o=n.getAttribute(" viewBox"),i=document.createElementNS(M,"symbol");return o&&i.setAttributeNS(null,"viewBox",o),i.setAttributeNS(null,"id",t),i.innerHTML=n.innerHTML,i}getSymbolMountPoint(){if(!this.symbolsMountingPoint){const t=document.createElementNS(M,"svg");this.symbolsMountingPoint=t,t.ariaHidden="true",t.style.width="0",t.style.height="0",t.style.overflow="hidden",document.body.appendChild(t)}return this.symbolsMountingPoint}getId(t){return et(t)}load(t,{flushImmediate:r,timeout:n,retryCount:o}={}){return ut(this,void 0,void 0,function*(){if(!this.cache.has(t))return this.cache.add(t),ct(t,{timeout:n,retryCount:o}).then(i=>{this.accumulateSvg({url:t,svgString:i}),r?this.flushSvg():this.deboucedflushSvg()}).catch(i=>{throw this.cache.delete(t),i})})}}const v=new ft;var lt=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const O=e=>{const{src:t,loadTimeot:r,loadRetryCount:n}=e,o=lt(e,["src","loadTimeot","loadRetryCount"]),i=w.exports.useRef(!0);return w.exports.useEffect(()=>{if(i.current){v.load(t,{timeout:r,retryCount:n}).catch(()=>({})),i.current=!1;return}v.load(t,{timeout:r,retryCount:n,flushImmediate:!0}).catch(()=>({}))},[t]),m("svg",Object.assign({},o,{children:m("use",{href:`#${v.getId(t)}`})}))};O.displayName="HandySvg";const ht={title:"Handy SVG"},N=["https://www.reshot.com/preview-assets/icons/CEMWASR2NL/children-playground-CEMWASR2NL.svg","https://www.reshot.com/preview-assets/icons/G9ADMFHEUT/men-dancing-G9ADMFHEUT.svg","https://www.reshot.com/preview-assets/icons/BP5D68RNY2/human-and-dog-BP5D68RNY2.svg"],mt=()=>N.map(e=>m("div",{children:m(O,{src:e})},e)),gt=()=>{const e=["MidnightBlue","RebeccaPurple","CornflowerBlue"];return N.map((t,r)=>m("div",{children:m(O,{src:t,style:{fill:e[r]}})},t))},vt=()=>{const e=w.exports.useRef(null),t="https://www.reshot.com/preview-assets/icons/WCG9LBYKDZ/man-and-tree-WCG9LBYKDZ.svg";return w.exports.useEffect(()=>{v.load(t).catch(()=>({}));const n=`<svg><use href="#${v.getId(t)}" /></svg>`;e.current&&(e.current.innerHTML=n)},[]),m("span",{style:{width:"200px",height:"200px"},ref:e})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{mt as Basic,gt as Colored,vt as WithoutReact,ht as default};
